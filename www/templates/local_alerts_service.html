{% extends "base_service.html" %}
{% block service_page_title %}Local alerts{% endblock%}
{% block service_title %}Local alerts{% endblock%}
{% block service_content %}
  <div class="row">
    <div class="small-12 columns">
      <form action="" method="post">
        <h3>1) Choose area of interest</h3>
        <div id="map" class="large-map">
          <div class="bounds"></div>
        </div>
        <p>
          <span class="label expand">~ <span id="example_count">12</span> notifications a week</span>
        </p>
        <h3>2) Choose type of alerts</h3>
        <ul>
          <li><label><input type="checkbox"/> Planning applications</label></li>
          <li><label><input type="checkbox"/> Parking suspensions</label></li>
          <li><label><input type="checkbox"/> Licencing applications</label></li>
        </ul>

        <h3>3) Choose notification type</h3>
        <ul>
          <li><label><input type="radio"/> Email</label></li>
          <li><label><input type="radio"/> SMS</label></li>
          <li><label><input type="radio"/> RSS</label></li>
        </ul>
        <button type="submit" class="button expand">Create alert</button>
      </form>
    </div>
  </div>
  <script type="text/javascript">

    var map = L.map('map').setView([51.505, -0.09], 13);
    L.tileLayer('http://{s}.tiles.mapbox.com/v3/memespring.kkkihcd2/{z}/{x}/{y}.png', {
    attribution: 'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery Â© <a href="http://mapbox.com">Mapbox</a>',
    maxZoom: 18
}).addTo(map);
    
    map.locate({setView: true, maxZoom: 16});

    map.on('moveend', function(e) {
      zoom = Math.floor((20 - map.getZoom()) + (Math.random()*3));
      $('#example_count').html(zoom);
    });

  </script>
{% endblock %}

{% block joyride %}
  <ol class="joyride-list" data-joyride>
    <li data-options="prev_button: false" data-button="End">
      <h4>Local alerts</h4>
      <p>
        Because information is held in canonical registries and standard formats, it is possible to build national services from local data. Registries may be central, or federated across different layers government. 
      </p>
    </li>
    <li data-id="services_link" data-class="custom so-awesome" data-text="Next" data-prev-text="Prev">
      <p>
        It maintains a list of all the different services that have access to registry data, what sort of service they are (government, non-profit, commercial) and what permissions they have.
      </p>
    </li>
  </ol>
{% endblock %}